<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}NeonBin - Matrix Code Vault{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="/" class="logo">ğŸ’» NeonBin</a>
            <ul class="nav-links">
                <li><a href="/">ğŸ  Home</a></li>
                <li><a href="{{ url_for('all_files') }}">ğŸ“š All Files</a></li>
                <li><a href="{{ url_for('upload_code') }}">ğŸ“¤ Upload Code</a></li>
                <li><a href="{{ url_for('secret_folders') }}">ğŸ” Secret Folders</a></li>
                <li>
                    <button class="theme-toggle" id="themeToggle">
                        <span id="themeIcon">ğŸ¨</span>
                        <span id="themeText">Theme</span>
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <main class="container">
        {% block content %}{% endblock %}
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 NeonBin - Matrix Code Vault. Store, View, and Execute Your Code.</p>
            <p>Created by <a href="https://github.com/shield44-project" target="_blank" rel="noopener noreferrer" style="color: var(--accent-primary); text-decoration: none; font-weight: bold;">shield44</a> | <a href="https://github.com/shield44-project/pastebins" target="_blank" rel="noopener noreferrer" style="color: var(--accent-primary); text-decoration: none;">View on GitHub</a></p>
        </div>
    </footer>

    <script>
        // Theme switcher functionality
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;

        // Available themes
        const themes = [
            { name: 'Matrix Green', class: '', icon: 'ğŸ’š' },
            { name: 'Cyber Blue', class: 'theme-cyber-blue', icon: 'ğŸ’™' },
            { name: 'Purple Haze', class: 'theme-purple', icon: 'ğŸ’œ' },
            { name: 'Fire Orange', class: 'theme-orange', icon: 'ğŸ§¡' },
            { name: 'Pink Neon', class: 'theme-pink', icon: 'ğŸ’—' },
            { name: 'Teal Wave', class: 'theme-teal', icon: 'ğŸ’š' }
        ];

        let currentThemeIndex = 0;

        // Load theme from localStorage
        const savedTheme = localStorage.getItem('neonbin-theme');
        if (savedTheme) {
            const themeIndex = themes.findIndex(t => t.class === savedTheme);
            if (themeIndex !== -1) {
                currentThemeIndex = themeIndex;
                if (savedTheme) {
                    body.className = savedTheme;
                }
            }
        }

        // Update button text
        function updateButtonText() {
            const theme = themes[currentThemeIndex];
            document.getElementById('themeIcon').textContent = theme.icon;
            document.getElementById('themeText').textContent = theme.name;
        }

        updateButtonText();

        // Toggle to next theme
        themeToggle.addEventListener('click', () => {
            // Remove current theme class
            body.className = '';
            
            // Move to next theme
            currentThemeIndex = (currentThemeIndex + 1) % themes.length;
            const newTheme = themes[currentThemeIndex];
            
            // Apply new theme
            if (newTheme.class) {
                body.classList.add(newTheme.class);
            }
            
            // Save to localStorage
            localStorage.setItem('neonbin-theme', newTheme.class);
            
            // Update button
            updateButtonText();
        });
    </script>

    {% block extra_js %}{% endblock %}
</body>
</html>
